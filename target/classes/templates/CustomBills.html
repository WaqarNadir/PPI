<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<div th:replace="template:: head"></div>
<body class="hold-transition skin-blue sidebar-mini">
	<script>
		function getReport(value) {
			if (value == '0') {
				return;
			}
			if (value == '3') {
				$("#customDates").show();
			} else {
				$("#customDates").hide();
				$("#BillForm").submit();
			}

		}
	</script>

	<div th:replace="template:: wrapper"></div>
	<div class="content-wrapper">
		<div class="content">
			<div class="box box-danger center">
				<div class="box-header with-border text-center">
					<h2>Expenses Report</h2>
					<p>
						<strong th:text="${label}"></strong>
					</p>
				</div>
				<div>
					<form th:action="@{/Expense/DateWiseExpense}" method="post"
						id="BillForm">
						<div class="col-sm-3 pull-right">
							<select class="form-control" onchange="getReport(this.value)"
								th:selected="${selectedValue}" name="selectValue">
								<option value="0"
									th:selected="${selectedValue} == null ? 'selected'">Please Select</option>
								<option value="1"
									th:selected="${selectedValue} == '1' ? 'selected'">This Month</option>
								<option value="2"
									th:selected="${selectedValue} == '2' ? 'selected'">This Year</option>
								<option value="3"
									th:selected="${selectedValue} == '3' ? 'selected'">Custom Dates</option>
							</select>

						</div>
						<div class="col-sm-3 " id="customDates"
							th:hidden="${selectedValue} != '3' ? hidden">
							<label>Start Date : </label> <input type="date"
								class="form-control" placeholder="Enter Start Date"
								name="startDate" required="required" /> <label>End Date
								:</label> <input class="form-control" type="date" name="endDate"
								required="required" placeholder="Enter End Date" />
							<button type="submit" class="btn-primary">Search</button>

						</div>
					</form>
					<table class="table stripped">
						<tr>
							<td>
								<h3>Expense</h3>
							</td>
						</tr>

						<tr th:each="TE : ${tBExpenseList}">
							<td th:text="${TE.TB_ID}"></td>
							<td th:text="${TE.total}"></td>
						</tr>
						<tr>
							<td></td>
						</tr>
						<tr>
							<td><strong>Total Expense</strong></td>
							<td th:text="${expenseSum}"></td>
						</tr>
					</table>
				</div>


			</div>
		</div>

	</div>

	<div th:replace="template:: footer"></div>
</body>
</html>
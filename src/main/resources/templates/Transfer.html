<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<div th:replace="template:: head"></div>



<script>
	function getBalance(value, index) {
		if (index == 1) {
			fieldName = "#balanceFrom";
		} else {
			fieldName = "#balanceTo";
		}
		$.ajax({
			url : "/getBalance",
			contentType : "application/json; charset=utf-8",
			data : value,
			type : "POST",
			success : function(data) {
				$(fieldName).val(data);
			},
			error : function(xhr, status, error) {
				alert("ERROR:" + xhr.responseText);
				console.log("ERROR:" + xhr.responseText);
			}
		});
	}
</script>


<body class="hold-transition skin-blue sidebar-mini">

	<div th:replace="template:: wrapper"></div>



	<div class="content-wrapper">
		<div class="content-header">
			<h1 align="center">Transfer</h1>
		</div>
		<!-- Main content -->
		<section class="content">
			<div class="row">
				<!-- left column -->
				<div class="col-md-12">
					<!-- general form elements -->
					<div class="box box-info">
						<!-- form start -->
						<form class="form-horizontal" th:object="${TB}"
							th:action="@{/Transfer/Save}" method="post">


							<div class="form-group col-sm-12">
								<div class="col-sm-3">
									<label for="date" class="control-label" align="center">Date</label>
									<input type="date" class="form-control" id="myDate"
										th:field="${TB.date}" />
								</div>
								<div class="col-sm-3 pull-right">
									<label for="date" class="control-label">Diary No</label> <input
										type="text" class="form-control" id="refNo"
										th:field="${TB.diaryNo}" />
								</div>
							</div>
							<table id="table1" class="table table-bordered table-hover">
								<thead>
									<tr>
										<th>#</th>
										<th></th>
										<th></th>
										<th></th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td class="text-bold">From</td>
										<td><select class="form-control"
											th:field="${TB.bankSourceID}"
											onchange="getBalance(this.value,1)">
												<option value="0">Please Select</option>
												<th:block th:each="parent : ${AssetList}">
													<option th:value="${parent.Acc_ID}" disabled="disabled"
														th:text="${parent.accName}" class="custom-bold">Cash
														In hand</option>
													<th:block th:each="child : ${parent.childList}">
														<option th:value="${child.Acc_ID}"
															th:text=" ${child.accName}">Cash In hand</option>
													</th:block>
												</th:block>
										</select></td>
										<td>Balance:</td>
										<td><input id="balanceFrom" readonly="readonly"
											class="label-total" align="center" /></td>
									</tr>
									<tr>
										<td class="text-bold">To</td>
										<td><select class="form-control"
											onchange="getBalance(this.value,2)"
											th:field="${TB.TB_DetailList[0].subGroup_ID}">
												<option value="0">Please Select</option>
												<th:block th:each="parent : ${AssetList}">
													<option th:value="${parent.Acc_ID}" disabled="disabled"
														th:text="${parent.accName}" class="custom-bold">Cash
														In hand</option>
													<th:block th:each="child : ${parent.childList}">

														<option th:value="${child.Acc_ID}"
															th:text=" ${child.accName}">Cash In hand</option>
													</th:block>
												</th:block>
										</select></td>
										<td>Balance:</td>
										<td><input id="balanceTo" readonly="readonly"
											class="label-total" align="center" /></td>
									</tr>
									<tr>
										<td class="text-bold">Transfer Amount</td>
										<td></td>
										<td></td>
										<td><input th:field="${TB.TB_DetailList[0].subTotal}"
											type="text" class="form-control" /></td>
									</tr>
								</tbody>
							</table>
							<div class="form-group">
								<label class="col-sm-2 control-label">Remarks:</label>
								<div class="col-sm-10">
									<textarea class="form-control" rows="4" cols="4"
										th:field="${TB.remarks}"
										placeholder="Enter Any details if needed"></textarea>
								</div>
							</div>
							<div class="box-footer">
								<button type="reset" class="btn btn-default">Cancel</button>
								<button type="submit" class="btn btn-info pull-right">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</section>
	</div>




	<div th:replace="template:: footer"></div>
</body>
</html>